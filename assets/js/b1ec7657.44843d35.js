(self.webpackChunkaesthetic_website=self.webpackChunkaesthetic_website||[]).push([[3905],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return g}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(t),g=r,m=u["".concat(l,".").concat(g)]||u[g]||d[g]||i;return t?a.createElement(m,s(s({ref:n},p),{},{components:t})):a.createElement(m,s({ref:n},p))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=u;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=t[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},6875:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return o},metadata:function(){return l},toc:function(){return c},default:function(){return d}});var a=t(2122),r=t(9756),i=(t(7294),t(3905)),s=["components"],o={title:"Render options"},l={unversionedId:"packages/style/options",id:"packages/style/options",isDocsHomePage:!1,title:"Render options",description:"The following features can be enabled on case-by-case basis using render options.",source:"@site/docs/packages/style/options.md",sourceDirName:"packages/style",slug:"/packages/style/options",permalink:"/docs/packages/style/options",editUrl:"https://github.com/aesthetic-suite/website/edit/master/docs/packages/style/options.md",version:"current",frontMatter:{title:"Render options"},sidebar:"docs",previous:{title:"Rendering concepts",permalink:"/docs/packages/style/concepts"},next:{title:"Server-side rendering",permalink:"/docs/packages/style/ssr"}},c=[{value:"Deterministic classes",id:"deterministic-classes",children:[]},{value:"Directionality",id:"directionality",children:[]},{value:"Unit suffixes",id:"unit-suffixes",children:[]},{value:"Vendor prefixes",id:"vendor-prefixes",children:[]},{value:"Specificity rankings",id:"specificity-rankings",children:[]}],p={toc:c};function d(e){var n=e.components,t=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The following features can be enabled on case-by-case basis using render options."),(0,i.kt)("h2",{id:"deterministic-classes"},"Deterministic classes"),(0,i.kt)("p",null,"Since the style engine generates atomic CSS, the amount of class names required grows rather\nquickly, as we need 1 class name for every 1 declaration. Class names use an autoincremented\napproach, where we combine an alphabet character and a counter, to return names like ",(0,i.kt)("inlineCode",{parentName:"p"},"a"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"j4"),", and\n",(0,i.kt)("inlineCode",{parentName:"p"},"z8"),". However, the class name returned for a declaration cannot be guaranteed, as the order of\ninsertion may change, or the autoincremented value may differ, as shown below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"engine.renderDeclaration('margin', 0); // -> a\nengine.renderDeclaration('display', 'flex'); // -> b\n\n// Page refreshed and order changes\nengine.renderDeclaration('display', 'flex'); // -> a\nengine.renderDeclaration('margin', 0); // -> b\n")),(0,i.kt)("p",null,"That being said, Aesthetic does support the concept of deterministic classes, where the same class\nname will always be returned for the same declaration, regardless of insertion order or other\nfactors. Perfect for scenarios like unit testing. It does this by hashing the CSS rule itself, and\ngenerating a unique class name based on the hash."),(0,i.kt)("p",null,"Deterministic classes can be enabled when ",(0,i.kt)("a",{parentName:"p",href:"/docs/packages/style/api"},"rendering")," by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"deterministic")," option."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"engine.renderDeclaration('margin', 0, { deterministic: true }); // -> c1cpw2zw\nengine.renderDeclaration('display', 'flex', { deterministic: true }); // -> cu4ygwf\n\n// Page refreshed and order changes\nengine.renderDeclaration('display', 'flex', { deterministic: true }); // -> cu4ygwf\nengine.renderDeclaration('margin', 0, { deterministic: true }); // -> c1cpw2zw\n")),(0,i.kt)("h2",{id:"directionality"},"Directionality"),(0,i.kt)("p",null,"Directionality is the concept of localizing the direction of styles to support\n",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/rtl"},"RTL (right-to-left)")," languages. By default,\nAesthetic assumes and requires all styles to be\n",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/LTR"},"LTR (left-to-right)"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// Left-to-right\nengine.renderRule({\n    marginLeft: '10px',\n    paddingRight: 0,\n    textAlign: 'left',\n}); // -> a b c\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},".a {\n    margin-left: 10px;\n}\n.b {\n    padding-right: 0;\n}\n.c {\n    text-align: left;\n}\n")),(0,i.kt)("p",null,"RTL can be enabled when ",(0,i.kt)("a",{parentName:"p",href:"/docs/packages/style/api"},"rendering")," by configuring the\n",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@aesthetic/addon-direction"},"@aesthetic/addon-direction")," package and\nusing the ",(0,i.kt)("inlineCode",{parentName:"p"},"direction")," option."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// Right-to-left\nengine.renderRule(\n    {\n        marginLeft: '10px',\n        paddingRight: 0,\n        textAlign: 'left',\n    },\n    {\n        direction: 'rtl',\n    },\n); // -> d e f\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},".d {\n    margin-right: 10px;\n}\n.e {\n    padding-left: 0;\n}\n.f {\n    text-align: right;\n}\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'Many CSS properties and values that use the words "left" or "right" have been replaced by\ndirection agnostic equivalents. Read the\n',(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/RTL_Guidelines"},"RTL guidelines"),"\nfor more information on these and how to properly mirror content.")),(0,i.kt)("h2",{id:"unit-suffixes"},"Unit suffixes"),(0,i.kt)("p",null,"Defining a property value using a number (",(0,i.kt)("inlineCode",{parentName:"p"},"10"),") instead of a unit suffixed number (",(0,i.kt)("inlineCode",{parentName:"p"},"10px"),") is easier\nto read and write, and as such, Aesthetic supports this pattern. By default, all numerical values\nare automatically suffixed with ",(0,i.kt)("inlineCode",{parentName:"p"},"px"),", unless the property in question requires no unit."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"engine.renderRule({\n    marginLeft: 10,\n    lineHeight: 1.25,\n}); // -> a b\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},".a {\n    margin-left: 10px;\n}\n.b {\n    line-height: 1.25;\n}\n")),(0,i.kt)("p",null,"Units can be customized when ",(0,i.kt)("a",{parentName:"p",href:"/docs/packages/style/api"},"rendering")," by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"unit")," option. This option accepts a\nstring."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// All units as \"rem\"\nengine.renderRule(\n    {\n        marginLeft: 10,\n        paddingBottom: 15,\n    },\n    {\n        unit: 'rem',\n    },\n); // -> a b\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},".a {\n    margin-left: 10rem;\n}\n.b {\n    padding-bottom: 15rem;\n}\n")),(0,i.kt)("h2",{id:"vendor-prefixes"},"Vendor prefixes"),(0,i.kt)("p",null,"If the engine was configured with a ",(0,i.kt)("inlineCode",{parentName:"p"},"vendorPrefixer")," option, a rendered rule will include vendor\nprefixes if the ",(0,i.kt)("inlineCode",{parentName:"p"},"vendor")," option is true. View the ",(0,i.kt)("a",{parentName:"p",href:"/docs/packages/addon-vendor"},"@aesthetic/addon-style"),"\npackage for more information."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"engine.renderRule(\n    {\n        appearance: 'none',\n        minWidth: 'fit-content',\n    },\n    { vendor: true },\n); // -> a b\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},".a {\n    -ms-appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    appearance: none;\n}\n.b {\n    min-width: -webkit-fit-content;\n    min-width: fit-content;\n}\n")),(0,i.kt)("h2",{id:"specificity-rankings"},"Specificity rankings"),(0,i.kt)("p",null,"When an application and its CSS grows, the chance for specificity issues gradually arise. For\nexample, if class ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," was rendered first, but we need it to override class ",(0,i.kt)("inlineCode",{parentName:"p"},"b"),", which was rendered\nlater, this wouldn't be possible with the default atomic cache. To work around this, Aesthetic\nsupports the concept of specificity rankings, where each class name is given a rank based on\ninsertion order."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const a = engine.renderDeclaration('color', 'red'); // -> a (rank 1)\nconst b = engine.renderDeclaration('color', 'blue'); // -> b (rank 2)\n\n// Will be blue, even though a comes after b\nconst className = `${b} ${a}`;\n")),(0,i.kt)("p",null,"This ranking is not enabled by default, as it does insert duplicate properties to solve specificity\nissues, which results in larger CSS. For example, for ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," to override ",(0,i.kt)("inlineCode",{parentName:"p"},"b")," above, we would simply\ninsert a new class with the same declaration as ",(0,i.kt)("inlineCode",{parentName:"p"},"a"),", which would result in a new class of ",(0,i.kt)("inlineCode",{parentName:"p"},"c")," that\nhas a higher specificity."),(0,i.kt)("p",null,"To enable specificity rankings, pass an empty object to the ",(0,i.kt)("inlineCode",{parentName:"p"},"rankings")," option. This object acts a\ncache and lookup for rank resolutions."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const rankings = {};\nconst a = engine.renderDeclaration('color', 'red', { rankings }); // -> a (rank 1)\nconst b = engine.renderDeclaration('color', 'blue', { rankings }); // -> b (rank 2)\nconst c = engine.renderDeclaration('color', 'red', { rankings }); // -> c (rank 3)\n\n// Will be red since c overrides all\nconst className = `${b} ${a} ${c}`;\n")))}d.isMDXComponent=!0}}]);