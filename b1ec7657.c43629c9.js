(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{112:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=a.a.createContext({}),p=function(e){var n=a.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},b=function(e){var n=p(e.components);return a.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),b=p(t),u=r,m=b["".concat(c,".").concat(u)]||b[u]||d[u]||i;return t?a.a.createElement(m,s(s({ref:n},l),{},{components:t})):a.a.createElement(m,s({ref:n},l))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,c=new Array(i);c[0]=u;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,c[1]=s;for(var l=2;l<i;l++)c[l]=t[l];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},95:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return o})),t.d(n,"default",(function(){return p}));var r=t(2),a=t(6),i=(t(0),t(112)),c={title:"Render options"},s={unversionedId:"packages/style/options",id:"packages/style/options",isDocsHomePage:!1,title:"Render options",description:"The following features can be enabled on case-by-case basis using render options.",source:"@site/docs/packages/style/options.md",slug:"/packages/style/options",permalink:"/docs/packages/style/options",editUrl:"https://github.com/aesthetic-suite/website/edit/master/docs/packages/style/options.md",version:"current",sidebar:"docs",previous:{title:"Rendering concepts",permalink:"/docs/packages/style/concepts"},next:{title:"Server-side rendering",permalink:"/docs/packages/style/ssr"}},o=[{value:"Deterministic classes",id:"deterministic-classes",children:[]},{value:"Directionality",id:"directionality",children:[]},{value:"Unit suffixes",id:"unit-suffixes",children:[]},{value:"Vendor prefixes",id:"vendor-prefixes",children:[{value:"Minimum browser support",id:"minimum-browser-support",children:[]}]},{value:"Specificity rankings",id:"specificity-rankings",children:[]}],l={rightToc:o};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The following features can be enabled on case-by-case basis using render options."),Object(i.b)("h2",{id:"deterministic-classes"},"Deterministic classes"),Object(i.b)("p",null,"Since the style engine generates atomic CSS, the amount of class names required grows rather\nquickly, as we need 1 class name for every 1 declaration. Class names use an autoincremented\napproach, where we combine an alphabet character and a counter, to return names like ",Object(i.b)("inlineCode",{parentName:"p"},"a"),", ",Object(i.b)("inlineCode",{parentName:"p"},"j4"),", and\n",Object(i.b)("inlineCode",{parentName:"p"},"z8"),". However, the class name returned for a declaration cannot be guaranteed, as the order of\ninsertion may change, or the autoincremented value may differ, as shown below."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"renderer.renderDeclaration('margin', 0); // -> a\nrenderer.renderDeclaration('display', 'flex'); // -> b\n\n// Page refreshed and order changes\nrenderer.renderDeclaration('display', 'flex'); // -> a\nrenderer.renderDeclaration('margin', 0); // -> b\n")),Object(i.b)("p",null,"That being said, Aesthetic does support the concept of deterministic classes, where the same class\nname will always be returned for the same declaration, regardless of insertion order or other\nfactors. Perfect for scenarios like unit testing. It does this by hashing the CSS rule itself, and\ngenerating a unique class name based on the hash."),Object(i.b)("p",null,"Deterministic classes can be enabled when ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/packages/style/api"}),"rendering")," by using the ",Object(i.b)("inlineCode",{parentName:"p"},"deterministic")," option."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"renderer.renderDeclaration('margin', 0, { deterministic: true }); // -> c1cpw2zw\nrenderer.renderDeclaration('display', 'flex', { deterministic: true }); // -> cu4ygwf\n\n// Page refreshed and order changes\nrenderer.renderDeclaration('display', 'flex', { deterministic: true }); // -> cu4ygwf\nrenderer.renderDeclaration('margin', 0, { deterministic: true }); // -> c1cpw2zw\n")),Object(i.b)("h2",{id:"directionality"},"Directionality"),Object(i.b)("p",null,"Directionality is the concept of localizing the direction of styles to support\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Glossary/rtl"}),"RTL (right-to-left)")," languages. By default,\nAesthetic assumes and requires all styles to be\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Glossary/LTR"}),"LTR (left-to-right)"),". To swap property and\nvalue direction, we utilize the popular ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/kentcdodds/rtl-css-js"}),"rtl-css-js"),"\nlibrary."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// Left-to-right\nconst className = renderer.renderRule({\n  marginLeft: '10px',\n  paddingRight: 0,\n  textAlign: 'left',\n}); // -> a b c\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  margin-left: 10px;\n}\n.b {\n  padding-right: 0;\n}\n.c {\n  text-align: left;\n}\n")),Object(i.b)("p",null,"RTL can be enabled when ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/packages/style/api"}),"rendering")," by using the ",Object(i.b)("inlineCode",{parentName:"p"},"rtl")," option."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// Right-to-left\nconst className = renderer.renderRule(\n  {\n    marginLeft: '10px',\n    paddingRight: 0,\n    textAlign: 'left',\n  },\n  {\n    rtl: true,\n  },\n); // -> d e f\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".d {\n  margin-right: 10px;\n}\n.e {\n  padding-left: 0;\n}\n.f {\n  text-align: right;\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},'Many CSS properties and values that use the words "left" or "right" have been replaced by\ndirection agnostic equivalents. Read the\n',Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/RTL_Guidelines"}),"RTL guidelines"),"\nfor more information on these and how to properly mirror content.")),Object(i.b)("h2",{id:"unit-suffixes"},"Unit suffixes"),Object(i.b)("p",null,"Defining a property value using a number (",Object(i.b)("inlineCode",{parentName:"p"},"10"),") instead of a unit suffixed number (",Object(i.b)("inlineCode",{parentName:"p"},"10px"),") is easier\nto read and write, and as such, Aesthetic supports this pattern. By default, all numerical values\nare automatically suffixed with ",Object(i.b)("inlineCode",{parentName:"p"},"px"),", unless the property in question requires no unit."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const className = renderer.renderRule({\n  marginLeft: 10,\n  lineHeight: 1.25,\n}); // -> a b\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  margin-left: 10px;\n}\n.b {\n  line-height: 1.25;\n}\n")),Object(i.b)("p",null,"Units can be customized when ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/packages/style/api"}),"rendering")," by using the ",Object(i.b)("inlineCode",{parentName:"p"},"unit")," option. This option accepts a\nstring."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// All units as \"rem\"\nconst className = renderer.renderRule(\n  {\n    marginLeft: 10,\n    paddingBottom: 15,\n  },\n  {\n    unit: 'rem',\n  },\n); // -> a b\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  margin-left: 10rem;\n}\n.b {\n  padding-bottom: 15rem;\n}\n")),Object(i.b)("p",null,"Or a function that returns a string, in which the unit can be changed based on property name (in\nkebab-case)."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// Different unit per property\nconst className = renderer.renderRule(\n  {\n    marginLeft: 10,\n    paddingBottom: 15,\n  },\n  {\n    unit(prop) {\n      if (prop === 'margin-left') return 'em';\n      if (prop === 'padding-bottom') return '%';\n      // Otherwise px\n    },\n  },\n); // -> a b\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  margin-left: 10em;\n}\n.b {\n  padding-bottom: 15%;\n}\n")),Object(i.b)("h2",{id:"vendor-prefixes"},"Vendor prefixes"),Object(i.b)("p",null,"Aesthetic implements a custom runtime for\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix"}),"vendor prefixing")," properties,\nvalues, and value functions, as we need full control of the implementation and browser targets.\nCurrently, features and browsers that are ",Object(i.b)("em",{parentName:"p"},"not dead")," and have ",Object(i.b)("em",{parentName:"p"},">= 1% market share")," will apply vendor\nprefixes."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// Without vendor prefixing\nconst className = renderer.renderRule({\n  appearance: 'none',\n  minWidth: 'fit-content',\n}); // -> a b\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  appearance: none;\n}\n.b {\n  min-width: fit-content;\n}\n")),Object(i.b)("p",null,"Prefixes can be enabled when ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/packages/style/api"}),"rendering")," by using the ",Object(i.b)("inlineCode",{parentName:"p"},"vendor")," option."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// With vendor prefixing\nconst className = renderer.renderRule(\n  {\n    appearance: 'none',\n    minWidth: 'fit-content',\n  },\n  { vendor: true },\n); // -> a b\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-css"}),".a {\n  -ms-appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n}\n.b {\n  min-width: -webkit-fit-content;\n  min-width: fit-content;\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"What if prefixes are missing for a feature I would expect them to, like CSS flexbox? In most\ncases, the feature in question is actually fully supported by our browser targets, so vendor\nprefixes are not necessary! When in doubt, verify on\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://caniuse.com/#search=flexbox"}),"caniuse.com"),".")),Object(i.b)("h3",{id:"minimum-browser-support"},"Minimum browser support"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Chrome v77"),Object(i.b)("li",{parentName:"ul"},"Chrome for Android v78"),Object(i.b)("li",{parentName:"ul"},"Edge v18"),Object(i.b)("li",{parentName:"ul"},"Firefox v70"),Object(i.b)("li",{parentName:"ul"},"Internet Explorer v11"),Object(i.b)("li",{parentName:"ul"},"Safari v13"),Object(i.b)("li",{parentName:"ul"},"Safari for iOS v12.4"),Object(i.b)("li",{parentName:"ul"},"Samsung Internet v10.1"),Object(i.b)("li",{parentName:"ul"},"UC Browser for Android v12.12")),Object(i.b)("h2",{id:"specificity-rankings"},"Specificity rankings"),Object(i.b)("p",null,"When an application and its CSS grows, the chance for specificity issues gradually arise. For\nexample, if class ",Object(i.b)("inlineCode",{parentName:"p"},"a")," was rendered first, but we need it to override class ",Object(i.b)("inlineCode",{parentName:"p"},"b"),", which was rendered\nlater, this wouldn't be possible with the default atomic cache. To work around this, Aesthetic\nsupports the concept of specificity rankings, where each class name is given a rank based on\ninsertion order."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const a = renderer.renderDeclaration('color', 'red'); // -> a (rank 1)\nconst b = renderer.renderDeclaration('color', 'blue'); // -> b (rank 2)\n\n// Will be blue, even though a comes after b\nconst className = `${b} ${a}`;\n")),Object(i.b)("p",null,"This ranking is not enabled by default, as it does insert duplicate properties to solve specificity\nissues, which results in larger CSS. For example, for ",Object(i.b)("inlineCode",{parentName:"p"},"a")," to override ",Object(i.b)("inlineCode",{parentName:"p"},"b")," above, we would simply\ninsert a new class with the same declaration as ",Object(i.b)("inlineCode",{parentName:"p"},"a"),", which would result in a new class of ",Object(i.b)("inlineCode",{parentName:"p"},"c")," that\nhas a higher specificity."),Object(i.b)("p",null,"To enable specificity rankings, pass an empty object to the ",Object(i.b)("inlineCode",{parentName:"p"},"rankings")," option. This object acts a\ncache and lookup for rank resolutions."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const rankings = {};\nconst a = renderer.renderDeclaration('color', 'red', { rankings }); // -> a (rank 1)\nconst b = renderer.renderDeclaration('color', 'blue', { rankings }); // -> b (rank 2)\nconst c = renderer.renderDeclaration('color', 'red', { rankings }); // -> c (rank 3)\n\n// Will be red since c overrides all\nconst className = `${b} ${a} ${c}`;\n")))}p.isMDXComponent=!0}}]);