(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{112:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),p=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),b=r,m=u["".concat(o,".").concat(b)]||u[b]||d[b]||s;return n?a.a.createElement(m,i(i({ref:t},c),{},{components:n})):a.a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<s;c++)o[c]=n[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},114:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},115:function(e,t,n){"use strict";var r=n(0),a=n(116);t.a=function(){const e=Object(r.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},116:function(e,t,n){"use strict";var r=n(0);const a=Object(r.createContext)(void 0);t.a=a},119:function(e,t,n){"use strict";var r=n(0),a=n.n(r),s=n(115),o=n(114),i=n(47),l=n.n(i);const c=37,p=39;t.a=function(e){const{block:t,children:n,defaultValue:i,values:u,groupId:d}=e,{tabGroupChoices:b,setTabGroupChoices:m}=Object(s.a)(),[f,h]=Object(r.useState)(i),[y,O]=Object(r.useState)(!1);if(null!=d){const e=b[d];null!=e&&e!==f&&u.some(t=>t.value===e)&&h(e)}const j=e=>{h(e),null!=d&&m(d,e)},g=[],v=e=>{e.metaKey||e.altKey||e.ctrlKey||O(!0)},w=()=>{O(!1)};return Object(r.useEffect)(()=>{window.addEventListener("keydown",v),window.addEventListener("mousedown",w)},[]),a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":t})},u.map(({value:e,label:t})=>a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":f===e,className:Object(o.a)("tabs__item",l.a.tabItem,{"tabs__item--active":f===e}),style:y?{}:{outline:"none"},key:e,ref:e=>g.push(e),onKeyDown:e=>{((e,t,n)=>{switch(n.keyCode){case p:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case c:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(g,e.target,e),v(e)},onFocus:()=>j(e),onClick:()=>{j(e),O(!1)},onPointerDown:()=>O(!1)},t))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},r.Children.toArray(n).filter(e=>e.props.value===f)[0]))}},120:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",null,e.children)}},90:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return d}));var r=n(2),a=n(6),s=(n(0),n(112)),o=n(119),i=n(120),l={title:"Getting started"},c={unversionedId:"packages/style/setup",id:"packages/style/setup",isDocsHomePage:!1,title:"Getting started",description:"Install with NPM or Yarn. No additional dependencies are required.",source:"@site/docs/packages/style/setup.mdx",slug:"/packages/style/setup",permalink:"/docs/packages/style/setup",editUrl:"https://github.com/aesthetic-suite/website/edit/master/docs/packages/style/setup.mdx",version:"current",sidebar:"docs",previous:{title:"CSS-in-JS style engine",permalink:"/docs/packages/style"},next:{title:"Rendering concepts",permalink:"/docs/packages/style/concepts"}},p=[{value:"Usage",id:"usage",children:[]},{value:"Style sheet order",id:"style-sheet-order",children:[]},{value:"Development vs production",id:"development-vs-production",children:[]}],u={rightToc:p};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Install with NPM or Yarn. No additional dependencies are required."),Object(s.b)(o.a,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"NPM",value:"npm"}],mdxType:"Tabs"},Object(s.b)(i.a,{value:"yarn",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"yarn add @aesthetic/style\n"))),Object(s.b)(i.a,{value:"npm",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"npm install @aesthetic/style\n")))),Object(s.b)("h2",{id:"usage"},"Usage"),Object(s.b)("p",null,"We implement and provide what's known as a renderer. The renderer handles all the heavy lifting\nbehind a streamlined API, but at a high-level, it converts ",Object(s.b)("em",{parentName:"p"},"style objects")," to\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://css-tricks.com/lets-define-exactly-atomic-css/"}),"atomic CSS"),", which it then inserts into the\ndocument as performant as possible."),Object(s.b)("p",null,"To begin, import and instantiate the ",Object(s.b)("inlineCode",{parentName:"p"},"ClientRenderer")," from ",Object(s.b)("inlineCode",{parentName:"p"},"@aesthetic/style"),". This renderer was\ndesigned for the browser, but an alternative exists for ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/packages/style/ssr"}),"server-side rendering"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"import { ClientRenderer } from '@aesthetic/style';\n\nconst renderer = new ClientRenderer();\n")),Object(s.b)("p",null,"You can then render CSS declarations and rules to generate atomic class names (1 class name per\ndeclaration). Rendered styles are batched and inserted every animation frame, in an effort to reduce\nrepaints and layout tearing."),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const className = renderer.renderRule({\n  margin: 0,\n  padding: '6px 12px',\n  textAlign: 'center',\n  color: 'var(--color)',\n  backgroundColor: 'transparent',\n  border: '2px solid #eee',\n\n  ':hover': {\n    borderColor: '#fff',\n  },\n\n  '@media (max-width: 600px)': {\n    display: 'block',\n  },\n}); // -> a b c d e f g h\n")),Object(s.b)("p",null,"That's about it, basic right? If you're looking for more advanced techniques, patterns, and usage,\ncontinue reading the following chapters."),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/packages/style/concepts"}),"Rendering concepts")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/packages/style/options"}),"Features & options")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/packages/style/api"}),"API"))),Object(s.b)("h2",{id:"style-sheet-order"},"Style sheet order"),Object(s.b)("p",null,"The renderer implements a unique approach around managing ",Object(s.b)("inlineCode",{parentName:"p"},"<style />")," elements, as it uses 3\nelements unlike most competitors which use 1. By using multiple elements, we can ensure proper\nspecificity and ordering of styles. In document order, the style sheets are:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Globals")," are the 1st style sheet. Primarily used for rendering root level at-rules like\n",Object(s.b)("inlineCode",{parentName:"li"},"@font-face")," and ",Object(s.b)("inlineCode",{parentName:"li"},"@keyframes"),", but can house anything."),Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Standard rules")," are the 2nd style sheet. This is where most CSS declarations are rendered."),Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Conditional rules")," are the 3rd and final style sheet. Only renders ",Object(s.b)("inlineCode",{parentName:"li"},"@media")," and ",Object(s.b)("inlineCode",{parentName:"li"},"@supports"),"\nrules to ensure their styles override the standard styles. Media queries are also\n",Object(s.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.npmjs.com/package/sort-css-media-queries"}),"sorted based on their query"),".")),Object(s.b)("h2",{id:"development-vs-production"},"Development vs production"),Object(s.b)("p",null,"Depending on the ",Object(s.b)("inlineCode",{parentName:"p"},"NODE_ENV")," environment, the renderer will insert styles using different mechanisms."),Object(s.b)("p",null,"In ",Object(s.b)("inlineCode",{parentName:"p"},"production")," it uses the native ",Object(s.b)("inlineCode",{parentName:"p"},"CSSStyleSheet#insertRule()")," to render as performant and\nefficient as possible."),Object(s.b)("p",null,"In ",Object(s.b)("inlineCode",{parentName:"p"},"development")," it uses ",Object(s.b)("inlineCode",{parentName:"p"},"style.textContent")," to render styles. This approach is much slower but\nallows styles to be modified from within a browser's developer tools."))}d.isMDXComponent=!0}}]);